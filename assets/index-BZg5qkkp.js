
/**
 * 由 Kpu-mobile 提供技术支持
 * Powered by Kpu-mobile
 * https://kpu-mobile.kpui.top/
 */
    
import{_ as N}from"./index-Czg9Ols8.js";import{_ as A}from"./index.vue_vue_type_script_setup_true_lang-CIWwt91K.js";import{x as q,d as b,y as R,z as I,A as h,B as j,c as v,o as m,w as u,C as V,p as D,u as e,D as L,E as g,G as O,H as T,I as U,J as z,P as E,b as f,K as H,L as J,s as Q,M as W,N as X,O as Y,k as Z,a as M,r as G,e as w,i as ee,t as ae}from"./index-CEhcQr1Q.js";import{i as k,a as C,C as te}from"./check-j3Otj15V.js";function x(o,n){return k(o)?!1:Array.isArray(o)?o.some(a=>C(a,n)):C(o,n)}const[se,_e]=q("CheckboxGroupRoot");function y(o){return o==="indeterminate"}function S(o){return y(o)?"indeterminate":o?"checked":"unchecked"}const[oe,le]=q("CheckboxRoot"),ne=b({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null],default:void 0},disabled:{type:Boolean},value:{default:"on"},id:{},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(o,{emit:n}){const a=o,l=n,{forwardRef:r,currentElement:i}=R(),s=se(null),d=I(a,"modelValue",l,{defaultValue:a.defaultValue,passive:a.modelValue===void 0}),p=h(()=>(s==null?void 0:s.disabled.value)||a.disabled),c=h(()=>k(s==null?void 0:s.modelValue.value)?d.value==="indeterminate"?"indeterminate":d.value:x(s.modelValue.value,a.value));function K(){if(k(s==null?void 0:s.modelValue.value))d.value=y(d.value)?!0:!d.value;else{const t=[...s.modelValue.value||[]];if(x(t,a.value)){const B=t.findIndex(_=>C(_,a.value));t.splice(B,1)}else t.push(a.value);s.modelValue.value=t}}const P=j(i),F=h(()=>{var t;return a.id&&i.value?(t=document.querySelector(`[for="${a.id}"]`))==null?void 0:t.innerText:void 0});return le({disabled:p,state:c}),(t,B)=>{var _,$;return m(),v(U((_=e(s))!=null&&_.rovingFocus.value?e(z):e(E)),g(t.$attrs,{id:t.id,ref:e(r),role:"checkbox","as-child":t.asChild,as:t.as,type:t.as==="button"?"button":void 0,"aria-checked":e(y)(c.value)?"mixed":c.value,"aria-required":t.required,"aria-label":t.$attrs["aria-label"]||F.value,"data-state":e(S)(c.value),"data-disabled":p.value?"":void 0,disabled:p.value,focusable:($=e(s))!=null&&$.rovingFocus.value?!p.value:void 0,onKeydown:O(T(()=>{},["prevent"]),["enter"]),onClick:K}),{default:u(()=>[V(t.$slots,"default",{modelValue:e(d),state:c.value}),e(P)&&t.name&&!e(s)?(m(),v(e(L),{key:0,type:"checkbox",checked:!!c.value,name:t.name,value:t.value,disabled:p.value,required:t.required},null,8,["checked","name","value","disabled","required"])):D("",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"])}}}),de=b({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(o){const{forwardRef:n}=R(),a=oe();return(l,r)=>(m(),v(e(H),{present:l.forceMount||e(y)(e(a).state.value)||e(a).state.value===!0},{default:u(()=>[f(e(E),g({ref:e(n),"data-state":e(S)(e(a).state.value),"data-disabled":e(a).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":l.asChild,as:l.as},l.$attrs),{default:u(()=>[V(l.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),re=b({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(o,{emit:n}){const a=o,l=n,r=h(()=>{const{class:s,...d}=a;return d}),i=J(r,l);return(s,d)=>(m(),v(e(ne),g(e(i),{class:e(Q)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a.class)}),{default:u(()=>[f(e(de),{class:"h-full w-full flex items-center justify-center text-current"},{default:u(()=>[V(s.$slots,"default",{},()=>[f(e(te),{class:"h-4 w-4"})])]),_:3})]),_:3},16,["class"]))}}),ie={class:"flex-center-start gap-2"},ue=["for"],ce=b({name:"KmCheckbox",__name:"index",props:W({disabled:{type:Boolean}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(o){const n=X(o,"modelValue"),a=Y();return(l,r)=>(m(),Z("div",ie,[f(e(re),{id:e(a),modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=i=>n.value=i),disabled:l.disabled},null,8,["id","modelValue","disabled"]),M("label",{for:e(a),class:"cursor-pointer text-sm"},[V(l.$slots,"default")],8,ue)]))}}),me={class:"flex gap-4"},he=b({__name:"index",setup(o){const n=G(!1);return(a,l)=>{const r=ce,i=A,s=N;return m(),v(s,{navbar:"","navbar-start-side":"back"},{default:u(()=>[f(i,null,{default:u(()=>[M("div",me,[f(r,{modelValue:e(n),"onUpdate:modelValue":l[0]||(l[0]=d=>ee(n)?n.value=d:null)},{default:u(()=>l[1]||(l[1]=[w(" 复选框 ")])),_:1},8,["modelValue"]),w(" "+ae(e(n)),1)])]),_:1})]),_:1})}}});export{he as default};
